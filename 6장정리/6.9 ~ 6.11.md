# 6.9 원격 브랜치

<br>

## 6.9.1 리모트 브랜치

+ 리모트 브랜치 : 원격 저장소에 생성된 브랜치를 말함

+ 원격 저장소와 연결된 로컬 저장소에서 새로운 브랜치를 생성한다고 해서 자동으로 원격 저장소에도 브랜치가 생성되는 것은 아님

+ 별도의 명령을 통하여 저장소를 동기화 할 필요가 있음

+ 리모트 브랜치는 보통 **별칭/브랜드 이름** 형태

<br>

## 6.9.3 브랜치 추적

+ 리모트 브랜치는 원격 저장소의 브랜치를 가리키는 포인터

+ 원격 저장소의 브랜치를 가리키는 것을 브랜치 추적(또는 트래킹 브랜치) 이라고 함

+ 추적 브랜치는 원격 브랜치의 마지막 커밋 해시 값을 가리킴

+ 이 포인터 정보는 **.git/refs/** 폴더 안에 위치

+ ![9 3](https://user-images.githubusercontent.com/114066603/194844393-fea12939-7746-411f-89d1-7856c28b0336.PNG)

+ 로컬 저장소는 마지막으로 연결된 리모트 브랜치의 커밋 해시 값을 항상 가지고 있음

<br>

## 6.9.4 브랜치 업로드

+ 등록된 원격 저장소의 리모트 브랜치는 remote show 명령어로 확인할 수 있음

+ `$ git remote show 원격브랜치` 

+ 리모트 브랜치는 서버간에 통신을 하고 나서 생성

+ 로컬 저장소의 브랜치를 원격 저장소에 동기화 하려면 푸시 작업 필요

+ `$ git push <원격저장소별칭> <브랜치이름>`  로컬 브랜치를 푸시하면 원격 저장소는 로컬 저장소와 동일한 브랜치를 생성

+ `$ git push -u origin master` : 선택한 브랜치를 원격 서버(origin)로 전달한다는 의미

<br>

## 6.9.5 이름이 다른 브랜치

+ 깃은 서로 다른 로컬 브랜치와 리모트 브랜치를 수동으로 지정하여 연결 가능

+ 브랜치를 직접 수동으로 지정할 때는 콜론(:)르오 구분

+ `$ git push origin 브랜치이름:새로운브랜치` : 현재 브랜치를 서버의 새로운 브랜치 이름으로 전송

+ ![9 5](https://user-images.githubusercontent.com/114066603/194850556-c2b5d4c0-ad35-48aa-a122-6f1605c8c84a.png)

+ 깃허브에서 새로 추가한 리모트 브랜치 확인 가능

<br>

## 6.9.6 업스트림 트래킹

+ 업스트림은 브랜치 추적을 다르게 표현한 것

+ 로컬 저장소의 브랜치와 원격 저장소의 브랜치는 업로드 할 수 있도록 매칭되어 있고, 이름 **업스트림 트래킹** 이라고 함

+ ![9 6](https://user-images.githubusercontent.com/114066603/194851134-93fbd353-fa94-4116-a6b8-4d692cdabcb2.png)

+ clone 명령어로 저장소를 복제할 때 원격 저장소에 등록된 트래킹 브랜치들은 자동으로 함께 설정

+ `$ git branch -r` : 원격 저장소의 리모트 브랜치 목록을 확인

+ `$ git branch -a` : 모든 브랜치 정보를 확인

+ `$ git branch -vv` : 복제 저장소의 트래킹 브랜치를 확인

+ 원본 저장소에서 `$ git pull` 명령어를 실행하면 feature 브랜치 정보로 자동 병합

<br>

## 6.9.7 원격 브랜치 복사

+ 원격 저장소의 리모트 브랜치를 이용하여 로컬 저장소에도 새로운 브랜치를 생성하여 동기화 할 수 있음

+ `$ git checkout -b <새이름> origin/<브랜치이름>`  '-b' 옵션은 생성 후 이동을 뜻함

<br>

## 6.9.8 업스트림 연결

+ 기존에 있는 브랜치를 업스트림으로 직접 설정 가능

+ `$ git branch -u origin/브랜치이름`  '-u' 옵션은 '--set-upstream-to' 의 약자. 기존 브랜치를 특정 원격 브랜치로 추적

<br>

---

<br>

# 6.10 브랜치 전송

<br>

## 6.10.1 프랜치 푸시

+ 처음에는 커밋과 브랜치를 푸시하는데 업스트림 설정이 필요

+ `$ git push --set-upstream origin master` : 수동으로 트래킹 브랜치와 업스트림을 설정

<br> 

## 6.10.2 브랜치 페치

+ 리모트 브랜치가 페치되면 깃은 단순히 **원격저장소별칭/프랜치** 포인터만 생성

+ 원격 저장소에서 페치된 커밋들을 새로운 로컬 브랜치로 반영하려면 병합 명령을 실행해야 함

+ `$ git merge 원격저장소별칭/브랜치이름` 

+ 페치된 브랜치를 병합하지 않고 테스트만 하고 싶을 때는 원격 브랜치의 포인터를 사용하여 임시 브랜치를 생성하서나 직접 체크아웃 가능

+ `$ git checkout -b 임스브랜치이름 origin/브랜치이름`

<br>

---

<br>

# 6.11 브랜치 삭제

+ 브랜치를 삭제하는 것은 해당 브랜치 내용과 커밋을 모두 삭제하는 것

+ 현재 자신이 있는 브랜치는 삭제할 수 없음

<br>

## 6.11.1 일반적인 삭제 방법

+ `$ git branch -d 브랜치이름` : '-d' 옵션은 스테이지가 깨끗할 때만 삭제를 허용

<br>

## 6.11.2 강제로 삭제하는 방법

+ 워킹 디렉터리 또는 스테이지에 추가 커밋이 남아있다면 강제로 삭제해야 함

+ `$ git branch -D 브랜치이름` : '-D' 옵션을 사용하면 강제로 브랜치를 삭제할 수 있음

<br>

## 6.11.3 소스트리에서 삭제하는 방법

+ ![11 3](https://user-images.githubusercontent.com/114066603/194857241-a1888a13-9d91-4aa8-a88e-8ee536b5f5cd.PNG)

<br>

## 6.11.4 리모트 브랜치를 삭제하는 방법

+ 원격 저장소의 브랜치를 삭제하려면 먼저 삭제 명령을 푸시해야 함

+ `$ git push origin --delete 리모트브랜치이름`

+ 원격 저장소의 브랜치를 삭제하면 리모트 브랜치에 기록된 커밋도 모두 삭제됨

<br>
